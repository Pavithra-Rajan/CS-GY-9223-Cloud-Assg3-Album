<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Photo Search</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header class="topbar">
            <div class="brand">
                <div class="logo">PS</div>
                <div>
                    <h1>Photo Store and Search</h1>
                    <div class="sub">Upload, index and search your photos</div>
                </div>
            </div>
            <div class="sub muted">Built with AWS Rekognition and Opensearch</div>
        </header>
        <div class="grid">
            <div>
                <div class="card">
                    <h2>Upload New Photo</h2>
                    <form id="uploadForm">
            <div class="form-group">
                <label for="photoFile">Select Photo:</label>
                <input type="file" id="photoFile" accept="image/png, image/jpg, image/jpeg" required>
                <span id="fileError" style="color:red;font-size: small;"></span>
            </div>
            <div class="form-group">
                <label for="customLabels">Custom Labels (comma-separated, optional):</label>
                <input type="text" id="customLabels" placeholder="e.g., Sam, Sally, Vacation">
            </div>
                <div style="display:flex; gap:8px; align-items:center;">
                    <button type="submit">Upload & Index Photo</button>
                    <button type="button" class="secondary" id="clearUpload">Clear</button>
                </div>
                <p id="uploadMessage" class="muted" style="margin:0; padding-top:8px;"></p>
                <img id="uploadPreview" alt="Preview" style="display:none;" />
        </form>

            </form>
        </div>
        <br>
            <aside>
                <div class="card">
                    <h2>Search Photos</h2>
                    <form id="searchForm">
            <div class="form-group">
                <label for="searchQuery">Natural Language Search:</label>
                <input type="text" id="searchQuery" placeholder="show me photos with trees and birds in them" required>
            </div>
                    <div style="display:flex; gap:8px; align-items:center; margin-top:8px;">
                        <button type="submit">Search</button>
                        <button class="secondary" type="button" id="clearSearch">Clear</button>
                    </div>
                    </form>
                </div>
            </aside>
        </div>

        <!-- <h3 style="margin-top:18px">Results</h3> -->
        <div id="resultsGrid" class="photo-grid">
            </div>
    </div>

    
    <script src="lib/axios/dist/axios.standalone.js"></script>

<script src="lib/url-template/url-template.js"></script>

<script src="lib/apiGatewayCore/sigV4Client.js"></script>
<script src="lib/apiGatewayCore/apiGatewayClient.js"></script>
<script src="lib/apiGatewayCore/simpleHttpClient.js"></script>
<script src="lib/apiGatewayCore/utils.js"></script>

<script src="apigClient.js"></script>
<script src="app.js"></script>

</body>
</html>